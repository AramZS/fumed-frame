<!DOCTYPE html>
<html lang="en" class="logo-theme">
  <head>
    <!-- 
      This is an HTML comment
      You can write text in a comment and the content won't be visible in the page
    -->
    <script src="https://unpkg.com/scrollama"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="preload"
      href="https://cdn.glitch.global/f20aef1f-8ae4-469e-a569-dd7a95c2daac/GarnetCapitals-Regular.woff2?v=1725315130751"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link rel="icon" href="https://glitch.com/favicon.ico" />

    <!--
      This is the page head - it contains info the browser uses
      Like the title, which appears on the browser tab but not inside the page
      Further down you'll see the content that displays in the page
    -->
    <title>Hello World!</title>

    <!-- The website stylesheet -->
    
    <link rel="stylesheet" href="/imgs.css" />
    <link rel="stylesheet" href="/style.css" />

    <!-- The website JavaScript file -->
    <script src="/script.js" defer></script>
  </head>
  <body class="bg-main text-color-main">
    <!--
      The body includes the content you see in the page
      Each element is defined using tags, like this <div></div>
      The attributes like class="wrapper" let us style elements in the CSS
    -->
    <div class="wrapper">
      <div class="container" role="main">
        <div class="tower-left-tip fore-main halftone-bg"></div>
        <div class="main-header">
          <header>
            <nav>
              <h1 class="title title-style">FUMED</h1>
              <br />
              <a href="">Link 1</a> | <a href="">Link 2</a> |
              <a href="">Link 3</a>
            </nav>
          </header>
        </div>
        <div class="tower-right-tip fore-main halftone-bg">

        </div>

        <div class="tower-left fore-main halftone-bg">
                  <div class="tower-left-inner tower-inner">
            
          </div>
        </div>
        <div class="main-content">
          <main>
            <div class="main-body">
              <br />
              <section id="intro">
                <div class="theme-selector">
                  Themes:
                  <button class="theme-selector-btn" data-theme="logo">
                    Logo
                  </button>
                  <button class="theme-selector-btn" data-theme="logo-inverted">
                    Logo Inverted
                  </button>
                  <button class="theme-selector-btn" data-theme="logo-bright">
                    Logo Bright
                  </button>
                  <button
                    class="theme-selector-btn"
                    data-theme="logo-bright-inverted"
                  >
                    Logo Bright Inverted
                  </button>
                </div>
                <h2>Using this project</h2>

                <p>This is a brief intro.</p>

                <h1 class="intro__hed">Sticky Overlay Example</h1>
                <p class="intro__dek">Start scrolling to see how it works.</p>
              </section>

              <section id="scrolly">
                <figure>
                  <p>0</p>
                </figure>

                <article>
                  <div class="step" data-step="1">
                    <p>STEP 1</p>
                  </div>
                  <div class="step" data-step="2">
                    <p>STEP 2</p>
                  </div>
                  <div class="step" data-step="3">
                    <p>STEP 3</p>
                  </div>
                  <div class="step" data-step="4">
                    <p>STEP 4</p>
                  </div>
                </article>
              </section>

              <section id="outro"></section>
              <!--  ðŸš§ TODO: ADD BUTTON HERE -->

              <!-- Once you've added the button from TODO.md, click it in the page -->
              <!-- Check out the function in script.js to see how it works -->
            </div>
          </main>
        </div>
        <div class="tower-right fore-main halftone-bg">
                  <div class="tower-right-inner tower-inner">
            
          </div>
        </div>

        <div class="footer-full fore-main">
          <!-- The footer holds our remix button â€” you can keep or delete it âœ‚ -->
          <footer class="footer">
            <div>Footer Text</div>

            <div class="links"></div>
          </footer>
        </div>
      </div>
    </div>
    <!-- runtime stuff -->
    <svg class="a-svg-filter">
      <filter id="wavy2">
        <feTurbulence
          x="5"
          y="0"
          baseFrequency="0.02"
          numOctaves="5"
          seed="1"
        />
        <feDisplacementMap in="SourceGraphic" scale="20" />
      </filter>
    </svg>
    
	<script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
	<script src="../scrollama.min.js"></script>
	<script>
		// using d3 for convenience
		var main = d3.select("main");
		var scrolly = main.select("#scrolly");
		var figure = scrolly.select("figure");
		var article = scrolly.select("article");
		var step = article.selectAll(".step");

		// initialize the scrollama
		var scroller = scrollama();

		// generic window resize listener event
		function handleResize() {
			// 1. update height of step elements
			var stepH = Math.floor(window.innerHeight * 0.75);
			step.style("height", stepH + "px");

			var figureHeight = window.innerHeight / 2;
			var figureMarginTop = (window.innerHeight - figureHeight) / 2;

			figure
				.style("height", figureHeight + "px")
				.style("top", figureMarginTop + "px");

			// 3. tell scrollama to update new element dimensions
			scroller.resize();
		}

		// scrollama event handlers
		function handleStepEnter(response) {
			console.log(response);
			// response = { element, direction, index }

			// add color to current step only
			step.classed("is-active", function (d, i) {
				return i === response.index;
			});

			// update graphic based on step
			figure.select("p").text(response.index + 1);
		}


		function init() {

			// 1. force a resize on load to ensure proper dimensions are sent to scrollama
			handleResize();

			// 2. setup the scroller passing options
			// 		this will also initialize trigger observations
			// 3. bind scrollama event handlers (this can be chained like below)
			scroller
				.setup({
					step: "#scrolly article .step",
					offset: 0.33,
					debug: false
				})
				.onStepEnter(handleStepEnter);
		}

		// kick things off
		init();
	</script>
  </body>
</html>
